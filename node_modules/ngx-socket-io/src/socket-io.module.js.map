{"version":3,"file":"socket-io.module.js","sourceRoot":"","sources":["../../src/socket-io.module.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAuB,cAAc,EAAE,MAAM,eAAe,CAAC;AAE9E,OAAO,EAAE,aAAa,EAAE,MAAM,qBAAqB,CAAC;;AAGpD,MAAM,wBAAwB,MAAsB;IAChD,MAAM,CAAC,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC;CACpC;AAED,MAAM,CAAC,IAAM,mBAAmB,GAAG,IAAI,cAAc,CAAiB,sBAAsB,CAAC,CAAC;;;;IAInF,sBAAO,GAAd,UAAe,MAAsB;QACjC,MAAM,CAAC;YACH,QAAQ,EAAE,cAAc;YACxB,SAAS,EAAE;gBACP,EAAE,OAAO,EAAE,mBAAmB,EAAE,QAAQ,EAAE,MAAM,EAAE;gBAClD;oBACI,OAAO,EAAE,aAAa;oBACtB,UAAU,EAAE,aAAa;oBACzB,IAAI,EAAG,CAAC,mBAAmB,CAAC;iBAC/B;aACJ;SACJ,CAAC;KACL;;gBAdJ,QAAQ,SAAC,EAAE;;yBAXZ;;SAYa,cAAc","sourcesContent":["import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\nimport { SocketIoConfig } from './config/socket-io.config';\nimport { WrappedSocket } from './socket-io.service';\n\n/** Socket factory */\nexport function SocketFactory(config: SocketIoConfig) {\n    return new WrappedSocket(config);\n}\n\nexport const SOCKET_CONFIG_TOKEN = new InjectionToken<SocketIoConfig>('__SOCKET_IO_CONFIG__');\n\n@NgModule({})\nexport class SocketIoModule {\n    static forRoot(config: SocketIoConfig): ModuleWithProviders {\n        return {\n            ngModule: SocketIoModule,\n            providers: [\n                { provide: SOCKET_CONFIG_TOKEN, useValue: config },\n                { \n                    provide: WrappedSocket,\n                    useFactory: SocketFactory,\n                    deps : [SOCKET_CONFIG_TOKEN]\n                }\n            ]\n        };\n    }\n }\n"]}