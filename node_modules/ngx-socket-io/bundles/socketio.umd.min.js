!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("socket.io-client")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs","rxjs/operators","socket.io-client"],o):o((e.ng=e.ng||{},e.ng.socketio=e.ng.socketio||{}),e.ng.core,e.rxjs,e.Rx,e.io)}(this,function(e,o,t,n,r){"use strict";function i(e){return new s(e)}var c=r.default,s=function(){function e(e){this.subscribersCounter=0,this.emptyConfig={url:"",options:{}},void 0===e&&(e=this.emptyConfig);var o=e.url,t=e.options,n=c||r;this.ioSocket=n(o,t)}return e.prototype.of=function(e){this.ioSocket.of(e)},e.prototype.on=function(e,o){this.ioSocket.on(e,o)},e.prototype.once=function(e,o){this.ioSocket.once(e,o)},e.prototype.connect=function(){return this.ioSocket.connect()},e.prototype.disconnect=function(e){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)},e.prototype.emit=function(e,o,t){return this.ioSocket.emit.apply(this.ioSocket,arguments)},e.prototype.removeListener=function(e,o){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)},e.prototype.removeAllListeners=function(e){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)},e.prototype.fromEvent=function(e){var o=this;return this.subscribersCounter++,t.Observable.create(function(t){return o.ioSocket.on(e,function(e){t.next(e)}),function(){1===o.subscribersCounter&&o.ioSocket.removeListener(e)}}).pipe(n.share())},e.prototype.fromOneTimeEvent=function(e){var o=this;return new Promise(function(t){return o.once(e,t)})},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Inject,args:[u]}]}]},e}(),u=new o.InjectionToken("__SOCKET_IO_CONFIG__"),p=function(){function e(){}return e.forRoot=function(o){return{ngModule:e,providers:[{provide:u,useValue:o},{provide:s,useFactory:i,deps:[u]}]}},e.decorators=[{type:o.NgModule,args:[{}]}],e}();e.SocketIoModule=p,e.Socket=s,Object.defineProperty(e,"__esModule",{value:!0})});