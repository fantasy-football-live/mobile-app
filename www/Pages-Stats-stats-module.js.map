{"version":3,"sources":["webpack:///./src/app/Pages/Stats/stats.module.ts","webpack:///./src/app/Pages/Stats/stats.page.html","webpack:///./src/app/Pages/Stats/stats.page.scss","webpack:///./src/app/Pages/Stats/stats.page.ts"],"names":[],"mappings":"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","file":"Pages-Stats-stats-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StatsPage } from './stats.page';\nimport { ComponentsModule } from '../../Components/components.module';\n\nconst routes: Routes = [\n\t{\n\t\tpath: '',\n\t\tcomponent: StatsPage\n\t}\n];\n\n@NgModule({\n\timports: [ CommonModule, FormsModule, IonicModule, ComponentsModule, RouterModule.forChild(routes) ],\n\tdeclarations: [ StatsPage ]\n})\nexport class StatsPageModule {}\n","module.exports = \"<app-header [title]=\\\"'Fixture Difficulty'\\\"></app-header>\\n<ion-content padding>\\n    <ion-item lines=\\\"none\\\">\\n        <ion-label>Weeks</ion-label>\\n        <ion-range [(ngModel)]=\\\"fixtureRange\\\" step=\\\"1\\\" snaps=\\\"true\\\" (ionChange)=\\\"updateRank()\\\" value=\\\"6\\\" pin=\\\"true\\\" min=\\\"1\\\"\\n            max=\\\"10\\\" color=\\\"danger\\\">\\n            <ion-label slot=\\\"end\\\">10</ion-label>\\n            <ion-label slot=\\\"start\\\">1</ion-label>\\n        </ion-range>\\n    </ion-item>\\n    <ion-list>\\n        <ion-item lines=\\\"none\\\" *ngFor=\\\"let team of teams;let i = index;\\\" text-wrap>\\n            <ion-note slot=\\\"start\\\">{{ i + 1 }}</ion-note>\\n            <ion-label>\\n                <h3>{{ team }}</h3>\\n                <div class=\\\"fixture-elements\\\">\\n                    <span class=\\\"fixture-difficulty\\\" *ngFor=\\\" let fixture of teamFixtures.get(team)?.slice(0, fixtureRange)\\\"\\n                        [class]=\\\"'fixture-difficulty fixture-difficulty-' + fixture.difficulty\\\"></span>\\n                </div>\\n            </ion-label>\\n        </ion-item>\\n    </ion-list>\\n\\n    <ion-list>\\n    </ion-list>\\n</ion-content>\"","module.exports = \".fixture-difficulty {\\n  margin: 0.4rem;\\n  margin-left: 0;\\n  border-radius: 2rem;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  color: #000;\\n  font-weight: 600;\\n  padding: 0.5em;\\n  max-width: 10px; }\\n  .fixture-difficulty-2 {\\n    background: #00ff86; }\\n  .fixture-difficulty-3 {\\n    background: #ebebe4; }\\n  .fixture-difficulty-4 {\\n    background: #ff005a;\\n    color: #ffffff; }\\n  .fixture-difficulty-5 {\\n    color: #ffffff;\\n    background: #861d46; }\\n  .fixture-elements {\\n  display: flex; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9Eb2N1bWVudHMvUHJvamVjdHMvRmFudGFzeUFwcC9GYW50YXN5Rm9vdGJhbGxMaXZlL3NyYy9hcHAvUGFnZXMvU3RhdHMvc3RhdHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBYztFQUNkLGNBQWM7RUFDZCxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsZUFBZSxFQUFBO0VBRWY7SUFDSSxtQkFBbUIsRUFBQTtFQUd2QjtJQUNJLG1CQUFtQixFQUFBO0VBR3ZCO0lBQ0ksbUJBQW1CO0lBQ25CLGNBQWMsRUFBQTtFQUdsQjtJQUNJLGNBQWM7SUFDZCxtQkFBbUIsRUFBQTtFQUkzQjtFQUNJLGFBQWEsRUFBQSIsImZpbGUiOiJzcmMvYXBwL1BhZ2VzL1N0YXRzL3N0YXRzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5maXh0dXJlLWRpZmZpY3VsdHkge1xuICAgIG1hcmdpbjogMC40cmVtO1xuICAgIG1hcmdpbi1sZWZ0OiAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDJyZW07XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGNvbG9yOiAjMDAwO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgcGFkZGluZzogMC41ZW07XG4gICAgbWF4LXdpZHRoOiAxMHB4O1xuXG4gICAgJi0yIHtcbiAgICAgICAgYmFja2dyb3VuZDogIzAwZmY4NjtcbiAgICB9XG5cbiAgICAmLTMge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZWJlYmU0O1xuICAgIH1cblxuICAgICYtNCB7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmZjAwNWE7XG4gICAgICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgIH1cblxuICAgICYtNSB7XG4gICAgICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgICAgICBiYWNrZ3JvdW5kOiAjODYxZDQ2O1xuICAgIH1cbn1cblxuLmZpeHR1cmUtZWxlbWVudHMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { HttpRequestService } from 'src/app/Services/http-request/http-request.service';\nimport { StaticDataService } from 'src/app/Services/static-data/static.data.service';\n\n@Component({\n\tselector: 'app-stats',\n\ttemplateUrl: './stats.page.html',\n\tstyleUrls: [ './stats.page.scss' ]\n})\nexport class StatsPage implements OnInit {\n\tteamFixtures = new Map();\n\tteamFixturesAll = new Map();\n\tfixtureDifficulty: Map<string, number> = new Map();\n\tfixtureRange = 6;\n\toriginalFixtures: any;\n\tteams: any;\n\n\tconstructor(\n\t\tprivate fplDataService: HttpRequestService,\n\t\tprivate staticDataService: StaticDataService\n\t) {}\n\n\tngOnInit() {\n\t\tPromise.all([ this.staticDataService.getTeams(), this.getFixtures() ])\n\t\t\t.then(([ teams, fixtures ]) => {\n\t\t\t\tthis.teams = teams;\n\t\t\t\tconst upcomingFixtures = fixtures.filter((fixture) => !fixture.finished);\n\t\t\t\tthis.createMapOfUpcomingFixtures(upcomingFixtures);\n\t\t\t\treturn null;\n\t\t\t})\n\t\t\t.then(() => this.updateRank());\n\t}\n\n\t/**\n     *\n     * @param fixtures array of upcoming fixtures\n     */\n\tcreateMapOfUpcomingFixtures(upcomingFixures: any[]) {\n\t\tupcomingFixures.map((fixture) => {\n\t\t\tconst homeTeam = this.getTeamName(fixture.team_h),\n\t\t\t\tawayTeam = this.getTeamName(fixture.team_a);\n\n\t\t\tconst homeFixture = {\n\t\t\t\tvenue: 'home',\n\t\t\t\tdifficulty: fixture.team_h_difficulty,\n\t\t\t\topponent: awayTeam,\n\t\t\t\tteam_name: homeTeam\n\t\t\t};\n\n\t\t\tconst awayFixure = {\n\t\t\t\tvenue: 'away',\n\t\t\t\tdifficulty: fixture.team_a_difficulty,\n\t\t\t\topponent: homeTeam,\n\t\t\t\tteam_name: awayTeam\n\t\t\t};\n\t\t\tconst homeTeamFixtures = this.teamFixturesAll.get(homeTeam) || [],\n\t\t\t\thomeTeamDifficulty = this.fixtureDifficulty.get(homeTeam) || 0;\n\n\t\t\thomeTeamFixtures.push(homeFixture);\n\t\t\tthis.teamFixturesAll.set(homeTeam, homeTeamFixtures);\n\t\t\tthis.fixtureDifficulty.set(homeTeam, homeTeamDifficulty + fixture.team_h_difficulty);\n\n\t\t\tconst awayTeamFixtures = this.teamFixturesAll.get(awayTeam) || [],\n\t\t\t\tawayTeamDifficulty = this.fixtureDifficulty.get(awayTeam) || 0;\n\t\t\tawayTeamFixtures.push(awayFixure);\n\n\t\t\tthis.fixtureDifficulty.set(awayTeam, awayTeamDifficulty + fixture.team_a_difficulty);\n\t\t\tthis.teamFixturesAll.set(awayTeam, awayTeamFixtures);\n\t\t});\n\n\t\tthis.teams = Array.from(this.teamFixturesAll.keys());\n\t}\n\n\tupdateRank() {\n\t\tconst teamfixtures = Array.from(this.teamFixturesAll);\n\n\t\tteamfixtures.map(([ team, fixures ]) => {\n\t\t\tconst totalDifficulty = fixures.slice(0, this.fixtureRange).reduce((a, b) => {\n\t\t\t\treturn a + b.difficulty;\n\t\t\t}, 0);\n\n\t\t\tthis.fixtureDifficulty.set(team, totalDifficulty);\n\t\t});\n\n\t\tteamfixtures.sort(\n\t\t\t([ key1, value1 ], [ key2, value2 ]) =>\n\t\t\t\tthis.fixtureDifficulty.get(key1) - this.fixtureDifficulty.get(key2)\n\t\t);\n\n\t\tthis.teamFixtures = new Map((teamfixtures as unknown) as ReadonlyArray<[any, any]>);\n\t\tthis.teams = Array.from(this.teamFixtures.keys());\n\t}\n\n\tgetTeamName(id): string {\n\t\tif (id < 1 || id > 20) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this.teams.find(team => team.id === id).name;\n\t}\n\n\t/**\n     *\n     * @param id FPL start their Team ids at 1 and using an array to sort teams is awkward as it starts at 0 index\n     */\n\tgetTeamNameStartingAtZeroIndex(id) {\n\t\treturn this.getTeamName(id + 1);\n\t}\n\n\t/**\n     * Get all the fixtures played this year\n     */\n\tgetFixtures() {\n\t\treturn this.fplDataService.fetch('https://fantasy.premierleague.com/drf/fixtures/');\n\t}\n}\n"],"sourceRoot":""}