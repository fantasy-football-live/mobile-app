(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"6NcG":function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),u=l("ri9Y"),i=l("wp+K"),r=function(){function n(n,t){this.fplDataService=n,this.staticDataService=t,this.teamFixtures=new Map,this.teamFixturesAll=new Map,this.fixtureDifficulty=new Map,this.fixtureRange=6}return n.prototype.ngOnInit=function(){var n=this;Promise.all([this.staticDataService.getTeams(),this.getFixtures()]).then(function(t){var l=t[1];n.teams=t[0];var e=l.filter(function(n){return!n.finished});return n.createMapOfUpcomingFixtures(e),null}).then(function(){return n.updateRank()})},n.prototype.createMapOfUpcomingFixtures=function(n){var t=this;n.map(function(n){var l=t.getTeamName(n.team_h),e=t.getTeamName(n.team_a),u={venue:"home",difficulty:n.team_h_difficulty,opponent:e,team_name:l},i={venue:"away",difficulty:n.team_a_difficulty,opponent:l,team_name:e},r=t.teamFixturesAll.get(l)||[],o=t.fixtureDifficulty.get(l)||0;r.push(u),t.teamFixturesAll.set(l,r),t.fixtureDifficulty.set(l,o+n.team_h_difficulty);var a=t.teamFixturesAll.get(e)||[],s=t.fixtureDifficulty.get(e)||0;a.push(i),t.fixtureDifficulty.set(e,s+n.team_a_difficulty),t.teamFixturesAll.set(e,a)}),this.teams=Array.from(this.teamFixturesAll.keys())},n.prototype.updateRank=function(){var n=this,t=Array.from(this.teamFixturesAll);t.map(function(t){var l=t[0],e=t[1].slice(0,n.fixtureRange).reduce(function(n,t){return n+t.difficulty},0);n.fixtureDifficulty.set(l,e)}),t.sort(function(t,l){var e=l[0];return n.fixtureDifficulty.get(t[0])-n.fixtureDifficulty.get(e)}),this.teamFixtures=new Map(t),this.teams=Array.from(this.teamFixtures.keys())},n.prototype.getTeamName=function(n){if(!(n<1||n>20))return this.teams.find(function(t){return t.id===n}).name},n.prototype.getTeamNameStartingAtZeroIndex=function(n){return this.getTeamName(n+1)},n.prototype.getFixtures=function(){return this.fplDataService.fetch("https://fantasy.premierleague.com/drf/fixtures/")},n}(),o=function(){return function(){}}(),a=l("pMnS"),s=l("ra/t"),c=l("ntG5"),f=l("Ip0R"),p=l("OLZZ"),h=l("BCOl"),b=l("uhuC"),d=l("gIcY"),g=e.nb({encapsulation:0,styles:[[".fixture-difficulty[_ngcontent-%COMP%]{margin:.4rem .4rem .4rem 0;border-radius:2rem;display:flex;justify-content:center;align-items:center;color:#000;font-weight:600;padding:.5em;max-width:10px}.fixture-difficulty-2[_ngcontent-%COMP%]{background:#00ff86}.fixture-difficulty-3[_ngcontent-%COMP%]{background:#ebebe4}.fixture-difficulty-4[_ngcontent-%COMP%]{background:#ff005a;color:#fff}.fixture-difficulty-5[_ngcontent-%COMP%]{color:#fff;background:#861d46}.fixture-elements[_ngcontent-%COMP%]{display:flex}"]],data:{}});function m(n){return e.Fb(0,[(n()(),e.pb(0,0,null,null,0,"span",[["class","fixture-difficulty"]],[[8,"className",0]],null,null,null,null))],null,function(n,t){n(t,0,0,"fixture-difficulty fixture-difficulty-"+t.context.$implicit.difficulty)})}function y(n){return e.Fb(0,[(n()(),e.pb(0,0,null,null,11,"ion-item",[["lines","none"],["text-wrap",""]],null,null,null,s.U,s.p)),e.ob(1,49152,null,0,c.C,[e.h,e.k],{lines:[0,"lines"]},null),(n()(),e.pb(2,0,null,0,2,"ion-note",[["slot","start"]],null,null,null,s.Y,s.u)),e.ob(3,49152,null,0,c.S,[e.h,e.k],null,null),(n()(),e.Eb(4,0,["",""])),(n()(),e.pb(5,0,null,0,6,"ion-label",[],null,null,null,s.V,s.r)),e.ob(6,49152,null,0,c.I,[e.h,e.k],null,null),(n()(),e.pb(7,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),e.Eb(8,null,["",""])),(n()(),e.pb(9,0,null,0,2,"div",[["class","fixture-elements"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,m)),e.ob(11,278528,null,0,f.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var l=t.component;n(t,1,0,"none");var e=null;n(t,11,0,null==(e=l.teamFixtures.get(t.context.$implicit))?null:e.slice(0,l.fixtureRange))},function(n,t){n(t,4,0,t.context.index+1),n(t,8,0,t.context.$implicit)})}function v(n){return e.Fb(0,[(n()(),e.pb(0,0,null,null,1,"app-header",[],null,null,null,p.b,p.a)),e.ob(1,114688,null,0,h.a,[],{title:[0,"title"]},null),(n()(),e.pb(2,0,null,null,25,"ion-content",[["padding",""]],null,null,null,s.L,s.h)),e.ob(3,49152,null,0,c.p,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,17,"ion-item",[["lines","none"]],null,null,null,s.U,s.p)),e.ob(5,49152,null,0,c.C,[e.h,e.k],{lines:[0,"lines"]},null),(n()(),e.pb(6,0,null,0,2,"ion-label",[],null,null,null,s.V,s.r)),e.ob(7,49152,null,0,c.I,[e.h,e.k],null,null),(n()(),e.Eb(-1,0,["Weeks"])),(n()(),e.pb(9,0,null,0,12,"ion-range",[["color","danger"],["max","10"],["min","1"],["pin","true"],["snaps","true"],["step","1"],["value","6"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,t,l){var u=!0,i=n.component;return"ionBlur"===t&&(u=!1!==e.zb(n,10)._handleBlurEvent()&&u),"ionChange"===t&&(u=!1!==e.zb(n,10)._handleChangeEvent(l.target.value)&&u),"ngModelChange"===t&&(u=!1!==(i.fixtureRange=l)&&u),"ionChange"===t&&(u=!1!==i.updateRank()&&u),u},s.Z,s.v)),e.ob(10,16384,null,0,b.a,[e.k],null,null),e.Bb(1024,null,d.b,function(n){return[n]},[b.a]),e.ob(12,671744,null,0,d.e,[[8,null],[8,null],[8,null],[6,d.b]],{model:[0,"model"]},{update:"ngModelChange"}),e.Bb(2048,null,d.c,null,[d.e]),e.ob(14,16384,null,0,d.d,[[4,d.c]],null,null),e.ob(15,49152,null,0,c.W,[e.h,e.k],{color:[0,"color"],min:[1,"min"],max:[2,"max"],pin:[3,"pin"],snaps:[4,"snaps"],step:[5,"step"],value:[6,"value"]},null),(n()(),e.pb(16,0,null,0,2,"ion-label",[["slot","end"]],null,null,null,s.V,s.r)),e.ob(17,49152,null,0,c.I,[e.h,e.k],null,null),(n()(),e.Eb(-1,0,["10"])),(n()(),e.pb(19,0,null,0,2,"ion-label",[["slot","start"]],null,null,null,s.V,s.r)),e.ob(20,49152,null,0,c.I,[e.h,e.k],null,null),(n()(),e.Eb(-1,0,["1"])),(n()(),e.pb(22,0,null,0,3,"ion-list",[],null,null,null,s.X,s.s)),e.ob(23,49152,null,0,c.J,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,y)),e.ob(25,278528,null,0,f.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(26,0,null,0,1,"ion-list",[],null,null,null,s.X,s.s)),e.ob(27,49152,null,0,c.J,[e.h,e.k],null,null)],function(n,t){var l=t.component;n(t,1,0,"Fixture Difficulty"),n(t,5,0,"none"),n(t,12,0,l.fixtureRange),n(t,15,0,"danger","1","10","true","true","1","6"),n(t,25,0,l.teams)},function(n,t){n(t,9,0,e.zb(t,14).ngClassUntouched,e.zb(t,14).ngClassTouched,e.zb(t,14).ngClassPristine,e.zb(t,14).ngClassDirty,e.zb(t,14).ngClassValid,e.zb(t,14).ngClassInvalid,e.zb(t,14).ngClassPending)})}function x(n){return e.Fb(0,[(n()(),e.pb(0,0,null,null,1,"app-stats",[],null,null,null,v,g)),e.ob(1,114688,null,0,r,[u.a,i.a],null,null)],function(n,t){n(t,1,0)},null)}var w=e.lb("app-stats",r,x,{},{},[]),k=l("95zI"),C=l("9opb"),_=l("apKv"),D=l("B4/3"),F=l("zon2"),O=l("ZYCi");l.d(t,"StatsPageModuleNgFactory",function(){return I});var I=e.mb(o,[],function(n){return e.wb([e.xb(512,e.j,e.bb,[[8,[a.a,w]],[3,e.j],e.x]),e.xb(4608,f.l,f.k,[e.u,[2,f.s]]),e.xb(4608,d.g,d.g,[]),e.xb(4608,k.a,k.a,[e.z,e.g]),e.xb(4608,C.a,C.a,[k.a,e.j,e.q]),e.xb(4608,_.a,_.a,[k.a,e.j,e.q]),e.xb(1073742336,f.b,f.b,[]),e.xb(1073742336,d.f,d.f,[]),e.xb(1073742336,d.a,d.a,[]),e.xb(1073742336,D.a,D.a,[]),e.xb(1073742336,F.a,F.a,[]),e.xb(1073742336,O.n,O.n,[[2,O.t],[2,O.m]]),e.xb(1073742336,o,o,[]),e.xb(1024,O.k,function(){return[[{path:"",component:r}]]},[])])})},BCOl:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=function(){function n(){}return n.prototype.ngOnInit=function(){},n}()},OLZZ:function(n,t,l){"use strict";var e=l("CcnG"),u=l("ra/t"),i=l("ntG5");l("BCOl"),l.d(t,"a",function(){return r}),l.d(t,"b",function(){return o});var r=e.nb({encapsulation:0,styles:[[""]],data:{}});function o(n){return e.Fb(0,[(n()(),e.pb(0,0,null,null,18,"ion-header",[],null,null,null,u.Q,u.m)),e.ob(1,49152,null,0,i.w,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,16,"ion-toolbar",[["text-center",""]],null,null,null,u.hb,u.D)),e.ob(3,49152,null,0,i.vb,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,u.J,u.f)),e.ob(5,49152,null,0,i.g,[],null,null),(n()(),e.pb(6,0,null,0,3,"ion-button",[["href","/tabs/home"]],null,null,null,u.I,u.e)),e.ob(7,49152,null,0,i.f,[e.h,e.k],{href:[0,"href"]},null),(n()(),e.pb(8,0,null,0,1,"ion-icon",[["slot","icon-only"],["src","../../assets/icons/house-outline.svg"]],null,null,null,u.R,u.n)),e.ob(9,49152,null,0,i.x,[e.h,e.k],{src:[0,"src"]},null),(n()(),e.pb(10,0,null,0,2,"ion-label",[["class","main-logo"]],null,null,null,u.V,u.r)),e.ob(11,49152,null,0,i.I,[e.h,e.k],null,null),(n()(),e.Eb(12,0,["",""])),(n()(),e.pb(13,0,null,0,5,"ion-buttons",[["slot","secondary"]],null,null,null,u.J,u.f)),e.ob(14,49152,null,0,i.g,[],null,null),(n()(),e.pb(15,0,null,0,3,"ion-button",[["href","/tabs/settings"]],null,null,null,u.I,u.e)),e.ob(16,49152,null,0,i.f,[e.h,e.k],{href:[0,"href"]},null),(n()(),e.pb(17,0,null,0,1,"ion-icon",[["slot","icon-only"],["src","../../assets/icons/tools.svg"]],null,null,null,u.R,u.n)),e.ob(18,49152,null,0,i.x,[e.h,e.k],{src:[0,"src"]},null)],function(n,t){n(t,7,0,"/tabs/home"),n(t,9,0,"../../assets/icons/house-outline.svg"),n(t,16,0,"/tabs/settings"),n(t,18,0,"../../assets/icons/tools.svg")},function(n,t){n(t,12,0,t.component.title)})}},ri9Y:function(n,t,l){"use strict";l.d(t,"a",function(){return a});var e=l("ElRG"),u=l("yp2w"),i=l("CcnG"),r=l("sE5F"),o=l("ZYCi"),a=function(){function n(n,t,l,e){this.testHttp=n,this.http=t,this.device=l,this.router=e}return n.prototype.fetch=function(n,t,l){return void 0===t&&(t={}),void 0===l&&(l={}),e=this,void 0,i=function(){var e;return function(n,t){var l,e,u,i,r={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(l)throw new TypeError("Generator is already executing.");for(;r;)try{if(l=1,e&&(u=2&i[0]?e.return:i[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,i[1])).done)return u;switch(e=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,e=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(u=(u=r.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){r.label=i[1];break}if(6===i[0]&&r.label<u[1]){r.label=u[1],u=i;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(i);break}u[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(n,r)}catch(o){i=[6,o],e=0}finally{l=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,function(u){switch(u.label){case 0:return e=this.parseJsonData,[4,this.fetchData(n,t,l)];case 1:return[2,e.apply(this,[u.sent()])]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(i.next(n))}catch(l){t(l)}}function r(n){try{o(i.throw(n))}catch(l){t(l)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,r)}o((i=i.apply(e,[])).next())});var e,u,i},n.prototype.parseJsonData=function(n){return"https://fantasy.premierleague.com/updating/"===n.url?(this.router.navigateByUrl("/updating"),null):this.device.cordova?JSON.parse(n.data):n.json()},n.prototype.fetchData=function(n,t,l){return void 0===t&&(t=null),void 0===l&&(l=null),this.device.cordova?this.http.get(n,t,l):this.testHttp.get(n).toPromise()},n.ngInjectableDef=i.S({factory:function(){return new n(i.W(r.d),i.W(u.a),i.W(e.a),i.W(o.m))},token:n,providedIn:"root"}),n}()},"wp+K":function(n,t,l){"use strict";l.d(t,"a",function(){return a});var e=l("ri9Y"),u=l("CcnG"),i=l("iw74"),r=function(n,t,l,e){return new(l||(l=Promise))(function(u,i){function r(n){try{a(e.next(n))}catch(t){i(t)}}function o(n){try{a(e.throw(n))}catch(t){i(t)}}function a(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(r,o)}a((e=e.apply(n,t||[])).next())})},o=function(n,t){var l,e,u,i,r={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(l)throw new TypeError("Generator is already executing.");for(;r;)try{if(l=1,e&&(u=2&i[0]?e.return:i[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,i[1])).done)return u;switch(e=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,e=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(u=(u=r.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){r.label=i[1];break}if(6===i[0]&&r.label<u[1]){r.label=u[1],u=i;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(i);break}u[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(n,r)}catch(o){i=[6,o],e=0}finally{l=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},a=function(){function n(n,t){this.httpRequestService=n,this.storage=t,this.storageKey="bootstrap",this.updateDataTime="update-bootstrap-time"}return n.prototype.fetch=function(n){return void 0===n&&(n=null),r(this,void 0,void 0,function(){var t=this;return o(this,function(l){return[2,this.storage.get(this.updateDataTime).then(function(l){return r(t,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return t=null,l&&Date.now()<=new Date(l).getTime()?[4,this.storage.get(this.storageKey)]:[3,2];case 1:return t=e.sent(),[3,4];case 2:return[4,this.httpRequestService.fetch("https://fantasy.premierleague.com/drf/bootstrap-static")];case 3:t=e.sent(),e.label=4;case 4:return this.staticData=t,this.storage.set(this.updateDataTime,t.next_event_fixtures[0]?t.next_event_fixtures[0].deadline_time:null),this.storage.set(this.storageKey,this.staticData),[2,null!=n?t[n]:t]}})})})]})})},n.prototype.getCurrentGameweek=function(){return r(this,void 0,void 0,function(){return o(this,function(n){return[2,this.fetch("current-event")]})})},n.prototype.getUpcomingFixtures=function(){return r(this,void 0,void 0,function(){return o(this,function(n){return[2,this.fetch("next_event_fixtures")]})})},n.prototype.getTeams=function(){return r(this,void 0,void 0,function(){return o(this,function(n){return[2,this.fetch("teams")]})})},n.prototype.getPlayers=function(){return r(this,void 0,void 0,function(){return o(this,function(n){return[2,this.fetch("elements")]})})},n.prototype.getPositionLabel=function(n){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.fetch("element_types")];case 1:return[2,t.sent().find(function(t){return t.id===n}).singular_name]}})})},n.ngInjectableDef=u.S({factory:function(){return new n(u.W(e.a),u.W(i.b))},token:n,providedIn:"root"}),n}()}}]);