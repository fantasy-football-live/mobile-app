(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"1+Ua":function(t,e,n){"use strict";var r=n("kEHE"),i=n("emr8"),o=n("r6l9"),a=function(){function t(t,e,n,r,i,o,a){void 0===t&&(t=-1),void 0===e&&(e=""),void 0===n&&(n=-1),void 0===r&&(r=null),void 0===i&&(i=0),void 0===o&&(o=""),void 0===a&&(a=0),this.id=t,this.name=e,this.gameweek_points=n,this.image=r,this.position=o,this.teamPosition=i,this.isCaptain=!1,this.position_type=a}return t.prototype.getGameweekPoints=function(t){},t}(),s=n("FbDL"),u=n("vYmN"),l=n("CcnG"),c=n("iw74");n.d(e,"a",function(){return p});var f=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},h=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},p=function(){function t(t,e,n,r){this.staticDataService=t,this.storage=e,this.httpRequestService=n,this.liveDataService=r}return t.prototype.getCurrentGameweekData=function(t,e){return f(this,void 0,void 0,function(){var n,r,i;return h(this,function(o){switch(o.label){case 0:return[4,this.storage.get(n="current-gameweek-"+t+"-"+e)];case 1:return(r=o.sent())?[2,r]:[4,this.httpRequestService.getData(this.composeCurrentGameweekInfoUrl(t,e)).catch(function(){})];case 2:return i=o.sent(),this.storage.set(n,i),[2,i]}})})},t.prototype.getPlayerGameweekHistory=function(t,e){return f(this,void 0,void 0,function(){var n,r,i;return h(this,function(o){switch(o.label){case 0:return[4,this.storage.get(n="gameweek-history-"+t+"-"+e)];case 1:return(r=o.sent())?[2,r]:[4,this.httpRequestService.getData(this.composePlayerGameweekHistoryUrl(t)).catch(function(){})];case 2:return i=o.sent(),this.storage.set(n,i),[2,i]}})})},t.prototype.composePlayerGameweekHistoryUrl=function(t){return"https://fantasy.premierleague.com/drf/entry/"+t+"/history"},t.prototype.createPlayer=function(t,e){return f(this,void 0,void 0,function(){var n,r,s,u,l,c,f,p,y,d,v,g,b,m,w,k,P,_,D,x,S,C,G,O,U,L=this;return h(this,function(h){switch(h.label){case 0:return this.currentGameweek?[3,2]:(n=this,[4,this.staticDataService.getCurrentGameweek()]);case 1:n.currentGameweek=h.sent(),h.label=2;case 2:return this.liveData=e,[4,Promise.all([this.getCurrentGameweekData(t,this.currentGameweek).catch(function(){}),this.getPlayerGameweekHistory(t,this.currentGameweek).catch(function(){})])];case 3:for(r=h.sent(),l=(u=r[1]).leagues.classic,c=(s=r[0]).active_chip,f=u.entry.player_first_name,p=u.entry.player_last_name,y=this.createCountryPhotoUrl(u.entry.player_region_short_iso),d=u.entry.name,v=u.entry.current_event,g=u.history.find(function(t){return t.event==L.currentGameweek-1}).total_points,b=s.picks,m=new o.a(t,d,v,[],g),w=s.entry_history.event_transfers,k=s.entry_history.event_transfers_cost,P=u.history.pop().overall_rank,(_=new i.a(t,l,f+" "+p,m,y,P,w)).activeChip=c,D=function(t){var e=x.staticDataService.data.elements.find(function(e){return e.id===t.element}),n=x.getElementType(e.element_type),r=new a(t.element,e.web_name,x.getLivePoints(e.id),x.createPlayerPhotoUrl(e.photo),t.position,n,e.element_type);r.isCaptain=t.is_captain,r.multiplier=t.multiplier,_.team.players.push(r),x.addPlayersToPositions(t,_,r,n)},x=this,S=0,C=b;S<C.length;S++)D(C[S]);for(G=0,O=_.team.players;G<O.length;G++)(U=O[G]).teamPosition<12&&(_.team.gameweekPoints+=U.gameweek_points*U.multiplier),U.isCaptain&&(_.team.captain=U.name);return _.gameweekTransfersCost=k,_.team.overallPoints=g+_.team.gameweekPoints-k,[2,_]}})})},t.prototype.addPlayersToPositions=function(t,e,n,r){t.position<12?e.team[r+"s"].push(n):e.team.Bench.push(n)},t.prototype.getElementType=function(t){return this.staticDataService.data.element_types.find(function(e){return e.id==t}).singular_name},t.prototype.getLivePoints=function(t){return this.liveData.elements[t].stats.total_points},t.prototype.getLiveData=function(t){return f(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,this.liveDataService.getLiveData(t)];case 1:return[2,e.sent()]}})})},t.prototype.createCountryPhotoUrl=function(t){return"/assets/country_flags/"+t+".gif"},t.prototype.createPlayerPhotoUrl=function(t){return o.a.composePhotoUrl(t)},t.prototype.getDataAsyncOrRetrieveStored=function(t,e){return f(this,void 0,void 0,function(){var n;return h(this,function(r){switch(r.label){case 0:return[4,this.storage.get("-"+t)];case 1:return(n=r.sent())?[3,3]:[4,this.httpRequestService.getData(e)];case 2:return[2,r.sent()];case 3:return[2,n]}})})},t.prototype.composeCurrentGameweekInfoUrl=function(t,e){return"https://fantasy.premierleague.com/drf/entry/"+t+"/event/"+e+"/picks"},t.ngInjectableDef=l.S({factory:function(){return new t(l.W(r.a),l.W(c.b),l.W(u.a),l.W(s.a))},token:t,providedIn:"root"}),t}()},"4qXY":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.ngOnInit=function(){},t}()},BCOl:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.ngOnInit=function(){},t}()},Ck4e:function(t,e,n){"use strict";var r=n("CcnG");n("4qXY"),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var i=r.nb({encapsulation:0,styles:[[".spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50% auto;width:50px;height:40px;text-align:center;font-size:10px}app-loading-spinner[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.spinner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#333;height:100%;width:6px;display:inline-block;-webkit-animation:1.2s ease-in-out infinite sk-stretchdelay;animation:1.2s ease-in-out infinite sk-stretchdelay}.spinner[_ngcontent-%COMP%]   .rect2[_ngcontent-%COMP%]{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.spinner[_ngcontent-%COMP%]   .rect3[_ngcontent-%COMP%]{-webkit-animation-delay:-1s;animation-delay:-1s}.spinner[_ngcontent-%COMP%]   .rect4[_ngcontent-%COMP%]{-webkit-animation-delay:-.9s;animation-delay:-.9s}.spinner[_ngcontent-%COMP%]   .rect5[_ngcontent-%COMP%]{-webkit-animation-delay:-.8s;animation-delay:-.8s}@-webkit-keyframes sk-stretchdelay{0%,100%,40%{-webkit-transform:scaleY(.4)}20%{-webkit-transform:scaleY(1)}}@keyframes sk-stretchdelay{0%,100%,40%{transform:scaleY(.4);-webkit-transform:scaleY(.4)}20%{transform:scaleY(1);-webkit-transform:scaleY(1)}}"]],data:{}});function o(t){return r.Hb(0,[(t()(),r.pb(0,0,null,null,5,"div",[["class","spinner"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,0,"div",[["class","rect1"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,0,"div",[["class","rect2"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,0,"div",[["class","rect3"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,0,"div",[["class","rect4"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,0,"div",[["class","rect5"]],null,null,null,null,null))],null,null)}},FbDL:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("vYmN"),i=n("CcnG"),o=function(){function t(t){this.httpRequestService=t}return t.prototype.getLiveData=function(t){return e=this,void 0,r=function(){var e;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(n){switch(n.label){case 0:return e=this,[4,this.httpRequestService.getData("https://fantasy.premierleague.com/drf/event/"+t+"/live")];case 1:return e.data=n.sent(),[2,this.data]}})},new((n=void 0)||(n=Promise))(function(t,i){function o(t){try{s(r.next(t))}catch(e){i(e)}}function a(t){try{s(r.throw(t))}catch(e){i(e)}}function s(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,[])).next())});var e,n,r},t.ngInjectableDef=i.S({factory:function(){return new t(i.W(r.a))},token:t,providedIn:"root"}),t}()},OLZZ:function(t,e,n){"use strict";var r=n("CcnG"),i=n("ra/t"),o=n("ntG5");n("BCOl"),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var a=r.nb({encapsulation:0,styles:[[""]],data:{}});function s(t){return r.Hb(0,[(t()(),r.pb(0,0,null,null,18,"ion-header",[],null,null,null,i.N,i.k)),r.ob(1,49152,null,0,o.w,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,16,"ion-toolbar",[["text-center",""]],null,null,null,i.fb,i.C)),r.ob(3,49152,null,0,o.vb,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,i.I,i.f)),r.ob(5,49152,null,0,o.g,[],null,null),(t()(),r.pb(6,0,null,0,3,"ion-button",[["href","/tabs/home"]],null,null,null,i.H,i.e)),r.ob(7,49152,null,0,o.f,[r.h,r.k],{href:[0,"href"]},null),(t()(),r.pb(8,0,null,0,1,"ion-icon",[["slot","icon-only"],["src","../../assets/icons/house-outline.svg"]],null,null,null,i.O,i.l)),r.ob(9,49152,null,0,o.x,[r.h,r.k],{src:[0,"src"]},null),(t()(),r.pb(10,0,null,0,2,"ion-label",[["class","main-logo"]],null,null,null,i.T,i.q)),r.ob(11,49152,null,0,o.I,[r.h,r.k],null,null),(t()(),r.Fb(12,0,["",""])),(t()(),r.pb(13,0,null,0,5,"ion-buttons",[["slot","secondary"]],null,null,null,i.I,i.f)),r.ob(14,49152,null,0,o.g,[],null,null),(t()(),r.pb(15,0,null,0,3,"ion-button",[["href","/tabs/settings"]],null,null,null,i.H,i.e)),r.ob(16,49152,null,0,o.f,[r.h,r.k],{href:[0,"href"]},null),(t()(),r.pb(17,0,null,0,1,"ion-icon",[["slot","icon-only"],["src","../../assets/icons/tools.svg"]],null,null,null,i.O,i.l)),r.ob(18,49152,null,0,o.x,[r.h,r.k],{src:[0,"src"]},null)],function(t,e){t(e,7,0,"/tabs/home"),t(e,9,0,"../../assets/icons/house-outline.svg"),t(e,16,0,"/tabs/settings"),t(e,18,0,"../../assets/icons/tools.svg")},function(t,e){t(e,12,0,e.component.title)})}},emr8:function(t,e,n){"use strict";var r=n("od1A"),i=n("r6l9");e.a=function(){function t(t,e,n,r,o,a,s){void 0===t&&(t=-1),void 0===e&&(e=[]),void 0===n&&(n=""),void 0===r&&(r=new i.a),void 0===o&&(o=""),void 0===s&&(s=0),this.overallRank=0,this.gameweekRank=0,this.leagues=e,this.name=n,this.team=r,this.id=t,this.country=o,this.overallRank=a,this.gameweekTransfers=s}return t.prototype.getLeagues=function(){return this.leagues},t.prototype.removeLeague=function(t){this.leagues=this.leagues.filter(function(e){return e.id!=t})},t.prototype.addLeague=function(t,e){var n=new r.a(t,e);this.leagues.push(n)},t.createFantasyPlayersArray=function(e){for(var n=[],r=0,o=e;r<o.length;r++){var a=o[r],s=new i.a(a.entry,a.entry_name),u=new t(a.id,null,a.player_name,s,"",0);n.push(u)}return n},t}()},kEHE:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("vYmN"),i=n("CcnG"),o=n("iw74"),a=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},s=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=function(){function t(t,e){this.httpRequestService=t,this.storage=e,this.storageKey="bootstrap",this.updateKey="update-bootstrap-time"}return t.prototype.getBootstrapData=function(){return a(this,void 0,void 0,function(){var t=this;return s(this,function(e){return[2,this.storage.get(this.updateKey).then(function(e){return a(t,void 0,void 0,function(){return s(this,function(t){return e&&Date.now()<=new Date(e).getTime()?[2,this.storage.get(this.storageKey)]:[2,this.httpRequestService.getData("https://fantasy.premierleague.com/drf/bootstrap-static")]})})}).then(function(e){return t.data=e,t.storage.set(t.updateKey,e.next_event_fixtures[0]?e.next_event_fixtures[0].deadline_time:null),t.storage.set(t.storageKey,t.data),t.data})]})})},t.prototype.getCurrentGameweek=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return t=this,[4,this.getBootstrapData()];case 1:return t.data=e.sent(),[2,this.data["current-event"]]}})})},t.prototype.getUpcomingFixtures=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return t=this,[4,this.getBootstrapData()];case 1:return t.data=e.sent(),[2,this.data.next_event_fixtures]}})})},t.prototype.getTeams=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return t=this,[4,this.getBootstrapData()];case 1:return t.data=e.sent(),[2,this.data.teams]}})})},t.ngInjectableDef=i.S({factory:function(){return new t(i.W(r.a),i.W(o.b))},token:t,providedIn:"root"}),t}()},od1A:function(t,e,n){"use strict";e.a=function(){function t(t,e,n,r){void 0===t&&(t=-1),void 0===e&&(e=""),void 0===n&&(n=0),void 0===r&&(r=[]),this.id=t,this.name=e,this.members=r,this.playerRank=n,this.baseLeagueUrl="https://fantasy.premierleague.com/drf/leagues-classic-standings/"}return t.prototype.updateLeagueRanking=function(){this.members.sort(function(t,e){return e.team.overallPoints-t.team.overallPoints})},t.prototype.addMember=function(t){this.members.push(t)},Object.defineProperty(t.prototype,"url",{get:function(){return this.baseLeagueUrl+this.id},enumerable:!0,configurable:!0}),t.prototype.getLeagueData=function(){},Object.defineProperty(t.prototype,"key",{get:function(){return"league-"+this.id},enumerable:!0,configurable:!0}),t.prototype.getMember=function(t){return this.members.find(function(e){return e.id===t})},t}()},r6l9:function(t,e,n){"use strict";e.a=function(){function t(t,e,n,r,i){void 0===t&&(t=-1),void 0===e&&(e=""),void 0===n&&(n=0),void 0===r&&(r=[]),void 0===i&&(i=0),this.id=t,this.name=e,this.gameweek=n,this.overallPoints=i,this.players=r,this.gameweekPoints=0,this.Goalkeepers=[],this.Defenders=[],this.Midfielders=[],this.Forwards=[],this.Bench=[]}return t.composePhotoUrl=function(t){return"/assets/player_images/p"+t.replace(/jpg/gi,"png")},t.prototype.updateTeamPoints=function(){this.gameweekPoints=0;for(var t=0,e=this.players;t<e.length;t++)this.gameweekPoints+=e[t].gameweek_points;return this.gameweekPoints},t}()},vYmN:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("yp2w"),i=n("ElRG"),o=n("CcnG"),a=n("sE5F"),s=n("ZYCi"),u=function(){function t(t,e,n,r){this.testHttp=t,this.http=e,this.device=n,this.router=r}return t.prototype.getData=function(t){return e=this,void 0,r=function(){var e;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(n){switch(n.label){case 0:return[4,this.fetchData(t)];case 1:return e=n.sent(),[2,this.parseJsonData(e)]}})},new((n=void 0)||(n=Promise))(function(t,i){function o(t){try{s(r.next(t))}catch(e){i(e)}}function a(t){try{s(r.throw(t))}catch(e){i(e)}}function s(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,[])).next())});var e,n,r},t.prototype.parseJsonData=function(t){return"https://fantasy.premierleague.com/updating/"==t.url&&this.router.navigateByUrl("/updating"),this.device.cordova?JSON.parse(t.data):t.json()},t.prototype.fetchData=function(t){return this.device.cordova?this.http.get(t,{},{}):this.testHttp.get(t).toPromise()},t.ngInjectableDef=o.S({factory:function(){return new t(o.W(a.d),o.W(r.a),o.W(i.a),o.W(s.m))},token:t,providedIn:"root"}),t}()},wSJi:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("1+Ua"),i=n("kEHE"),o=n("FbDL"),a=n("CcnG"),s=n("iw74"),u=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},l=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=function(){function t(t,e,n,r){this.storage=t,this.fantasyPlayerService=e,this.liveDataService=n,this.staticDataService=r,this.userLeaguesKey="user-leagues",this.userKey="user"}return t.prototype.loadSavedUser=function(){return u(this,void 0,void 0,function(){var t=this;return l(this,function(e){switch(e.label){case 0:return[4,this.storage.get(this.userKey).then(function(e){t.user=e})];case 1:return[2,e.sent()]}})})},t.prototype.createUser=function(t){return u(this,void 0,void 0,function(){var e,n,r=this;return l(this,function(i){switch(i.label){case 0:return[4,this.staticDataService.getCurrentGameweek()];case 1:return e=i.sent(),[4,this.liveDataService.getLiveData(e)];case 2:return n=i.sent(),[4,this.fantasyPlayerService.createPlayer(t,n).then(function(t){r.user=t,r.storage.set(r.userKey,t)})];case 3:return[2,i.sent()]}})})},t.prototype.updateUser=function(t){return u(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this.createUser(t)];case 1:return[2,e.sent()]}})})},t.ngInjectableDef=a.S({factory:function(){return new t(a.W(s.b),a.W(r.a),a.W(o.a),a.W(i.a))},token:t,providedIn:"root"}),t}()}}]);